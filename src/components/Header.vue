<script setup lang="ts">
import { ref, watchEffect } from 'vue'

// 쮐혜햩햣햤햦쒫썛왏 혝햣햪혞
const isDark = ref(false)

// 햣햣햨햩혩혢햟햣햪 혝햣햪혞
const toggleTheme = () => {
  isDark.value = !isDark.value
  if (isDark.value) {
    document.documentElement.classList.add('dark')
  } else {
    document.documentElement.classList.remove('dark')
  }
  localStorage.setItem('theme', isDark.value ? 'dark' : 'light')
}

// 햦 향햟햡혞향햨햣 혢햦혝햟햣햪 햦향 localStorage
watchEffect(() => {
  const saved = localStorage.getItem('theme')
  if (saved === 'dark') {
    isDark.value = true
    document.documentElement.classList.add('dark')
  }
})
</script>

<template>
  <header
    class="w-full border-b border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 shadow-sm"
  >
    <div class="container mx-auto max-w-4xl flex items-center justify-between px-6 py-4">
      <!-- 햍쮏 / 햫햟향쒫썛쫧쟳 -->
      <h1 class="text-xl font-bold text-gray-900 dark:text-white">Namify</h1>

      <!-- 햌햫쮏햨햟 햣햣햨햩혩혢햣햫햦혪 혝햣햪혦 -->
      <button
        @click="toggleTheme"
        class="flex items-center justify-center w-10 h-10 rounded-full border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-zinc-800 transition"
      >
        <span class="transition-transform duration-500" :class="{ 'rotate-360': isDark }">
          {{ isDark ? '游' : '游깿' }}
        </span>
      </button>
    </div>
  </header>
</template>
